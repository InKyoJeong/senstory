(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[922],{8259:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSP:function(){return N},default:function(){return Z}});var r=t(9439),i=t(7294),o=t(9226),s=t(9008),c=t(1163),d=t(131),l=t(1986),a=t(5394),u=t(5053),p=t(6040),h=t(8453),f=t(9163),v=(0,f.iv)(["display:flex;justify-content:center;border-radius:5px;margin:10px 0px 5px 0px;border:2px solid ",";"],(function(e){return e.theme.color.DARK_MAIN})),x=f.ZP.div.withConfig({displayName:"styles__UserHeader",componentId:"sc-17qujos-0"})(["padding:8px 0px;display:flex;align-items:center;justify-content:center;background-color:",";border:1px solid ",";border-bottom-left-radius:10px;border-bottom-right-radius:10px;font-weight:bolder;"],(function(e){return e.theme.color.MAIN}),(function(e){return e.theme.color.DARK_GRAY})),g=f.ZP.div.withConfig({displayName:"styles__UserInfoNick",componentId:"sc-17qujos-1"})(["color:white;"]),y=(0,f.ZP)(p.Z).withConfig({displayName:"styles__UserProfileWrapper",componentId:"sc-17qujos-2"})(["margin:20px 0;background-color:",";color:white;border-radius:5px;border:1px solid black;"],(function(e){return e.theme.color.DARK_GRAY})),m=f.ZP.div.withConfig({displayName:"styles__UserInfoWrapper",componentId:"sc-17qujos-3"})(["display:grid;gap:2px;grid-template-columns:1fr 1fr 1fr;margin-top:20px;background-color:",";border:1px solid #5e5d5d;padding:15px 0px;border-radius:8px;& div{display:flex;justify-content:center;flex-direction:column;align-items:center;color:white;}"],(function(e){return e.theme.color.MIDDLE_GRAY})),j=f.ZP.div.withConfig({displayName:"styles__UserIntroTop",componentId:"sc-17qujos-4"})(["display:grid;grid-template-columns:1fr 1fr;gap:20px;flex-direction:column;justify-content:center;& div{display:flex;flex-direction:column;justify-content:center;align-items:center;}"]),b=f.ZP.div.withConfig({displayName:"styles__UserIntroWrapper",componentId:"sc-17qujos-5"})(["color:white;margin-top:20px;& span{color:gray;}"]),w=f.ZP.div.withConfig({displayName:"styles__UserIntroTitle",componentId:"sc-17qujos-6"})(["width:calc(50% - 10px);",""],v),_=f.ZP.div.withConfig({displayName:"styles__UserHalfTitle",componentId:"sc-17qujos-7"})(["width:100%;",""],v),k=t(4299),I=t(5893),V=function(e){var n=e.userInfo;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)(x,{children:[n.nickname,"\ub2d8\uc758 \ud504\ub85c\ud544"]}),(0,I.jsxs)(y,{children:[(0,I.jsx)(p.Z.Meta,{avatar:n.avatar?(0,I.jsx)(h.C,{src:"".concat(k.T,"/").concat(n.avatar)}):(0,I.jsx)(h.C,{children:n.nickname[0]}),title:(0,I.jsx)(g,{children:n.nickname})}),(0,I.jsxs)(b,{children:[(0,I.jsxs)(j,{children:[(0,I.jsxs)("div",{children:[(0,I.jsx)(_,{children:"\ud65c\ub3d9 \uc9c0\uc5ed"}),(0,I.jsx)("div",{children:n.area}),(0,I.jsx)(l.Z,{condition:""===n.area,children:(0,I.jsx)("span",{children:"\ub4f1\ub85d\uc911"})})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(_,{children:"MBTI"}),(0,I.jsx)(l.Z,{condition:"x"!==n.mbti,children:(0,I.jsx)("div",{children:n.mbti})}),(0,I.jsx)(l.Z,{condition:"x"===n.mbti,children:(0,I.jsx)("span",{children:"\ub4f1\ub85d\uc911"})})]})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)(w,{children:"\uc18c\uac1c"}),(0,I.jsx)("div",{children:n.intro}),(0,I.jsx)(l.Z,{condition:""===n.intro,children:(0,I.jsx)("span",{children:"\ub4f1\ub85d\uc911"})})]})]}),(0,I.jsxs)(m,{children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{children:"\uac8c\uc2dc\ubb3c"}),(0,I.jsx)("div",{children:n.Posts})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{children:"\ud314\ub85c\uc6cc"}),(0,I.jsx)("div",{children:n.Followers})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{children:"\ud314\ub85c\uc789"}),(0,I.jsx)("div",{children:n.Followings})]})]})]})]})},C=t(9037),N=!0,Z=function(){var e=(0,o.I0)(),n=(0,c.useRouter)().query.id,t=(0,o.v9)((function(e){return e.post})),p=t.repostError,h=t.mainPosts,f=t.hasMorePosts,v=t.loadUserAllPostLoading,x=(0,o.v9)((function(e){return e.user})).userInfo,g=(0,d.YD)(),y=(0,r.Z)(g,2),m=y[0],j=y[1];(0,i.useEffect)((function(){p&&alert(p)})),(0,i.useEffect)((function(){if(j&&f&&!v){var t,r=null===(t=h[h.length-1])||void 0===t?void 0:t.id;e((0,C.LL)(n,r))}}),[j,f,v,h,n]);var b=(0,i.useMemo)((function(){return{display:"flex",alignItems:"center",justifyContent:"center",color:"white",marginTop:"40vh",fontSize:15}}),[]);return x?(0,I.jsxs)(a.Z,{children:[(0,I.jsxs)(l.Z,{condition:!!x,children:[(0,I.jsxs)(s.default,{children:[(0,I.jsxs)("title",{children:[x.nickname,"\ub2d8 | SenStory"]}),(0,I.jsx)("meta",{name:"description",content:"".concat(x.nickname,"\ub2d8")}),(0,I.jsx)("meta",{property:"og:title",content:"".concat(x.nickname,"\ub2d8")}),(0,I.jsx)("meta",{property:"og:description",content:"".concat(x.nickname,"\ub2d8")}),(0,I.jsx)("meta",{property:"og:image",content:"http://localhost:3060/favicon.ico"}),(0,I.jsx)("meta",{property:"og:url",content:"http://localhost:3060/user/".concat(n)})]}),(0,I.jsx)(V,{userInfo:x})]}),h.map((function(e){return(0,I.jsx)(u.Z,{post:e,ref:f&&!v?m:void 0},e.id)}))]}):(0,I.jsx)(a.Z,{children:(0,I.jsx)("div",{style:b,children:(0,I.jsx)("div",{children:"\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \uc0ac\uc6a9\uc790\uc785\ub2c8\ub2e4."})})})}},8096:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/[id]",function(){return t(8259)}])},131:function(e,n,t){"use strict";t.d(n,{YD:function(){return p}});var r=t(7294);function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var o=new Map,s=new WeakMap,c=0;function d(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return n+"_"+("root"===n?(t=e.root)?(s.has(t)||(c+=1,s.set(t,c.toString())),s.get(t)):"0":e[n]);var t})).toString()}function l(e,n,t){if(void 0===t&&(t={}),!e)return function(){};var r=function(e){var n=d(e),t=o.get(n);if(!t){var r,i=new Map,s=new IntersectionObserver((function(n){n.forEach((function(n){var t,o=n.isIntersecting&&r.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=o),null==(t=i.get(n.target))||t.forEach((function(e){e(o,n)}))}))}),e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:s,elements:i},o.set(n,t)}return t}(t),i=r.id,s=r.observer,c=r.elements,l=c.get(e)||[];return c.has(e)||c.set(e,l),l.push(n),s.observe(e),function(){l.splice(l.indexOf(n),1),0===l.length&&(c.delete(e),s.unobserve(e)),0===c.size&&(s.disconnect(),o.delete(i))}}function a(e){return"function"!==typeof e.children}var u=function(e){var n,t;function o(n){var t;return(t=e.call(this,n)||this).node=null,t._unobserveCb=null,t.handleNode=function(e){t.node&&(t.unobserve(),e||t.props.triggerOnce||t.props.skip||t.setState({inView:!!t.props.initialInView,entry:void 0})),t.node=e||null,t.observeNode()},t.handleChange=function(e,n){e&&t.props.triggerOnce&&t.unobserve(),a(t.props)||t.setState({inView:e,entry:n}),t.props.onChange&&t.props.onChange(e,n)},t.state={inView:!!n.initialInView,entry:void 0},t}t=e,(n=o).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var s=o.prototype;return s.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},s.componentWillUnmount=function(){this.unobserve(),this.node=null},s.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,n=e.threshold,t=e.root,r=e.rootMargin,i=e.trackVisibility,o=e.delay;this._unobserveCb=l(this.node,this.handleChange,{threshold:n,root:t,rootMargin:r,trackVisibility:i,delay:o})}},s.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},s.render=function(){if(!a(this.props)){var e=this.state,n=e.inView,t=e.entry;return this.props.children({inView:n,entry:t,ref:this.handleNode})}var o=this.props,s=o.children,c=o.as,d=o.tag,l=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(o,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return(0,r.createElement)(c||d||"div",i({ref:this.handleNode},l),s)},o}(r.Component);function p(e){var n=void 0===e?{}:e,t=n.threshold,i=n.delay,o=n.trackVisibility,s=n.rootMargin,c=n.root,d=n.triggerOnce,a=n.skip,u=n.initialInView,p=(0,r.useRef)(),h=(0,r.useState)({inView:!!u}),f=h[0],v=h[1],x=(0,r.useCallback)((function(e){void 0!==p.current&&(p.current(),p.current=void 0),a||e&&(p.current=l(e,(function(e,n){v({inView:e,entry:n}),n.isIntersecting&&d&&p.current&&(p.current(),p.current=void 0)}),{root:c,rootMargin:s,threshold:t,trackVisibility:o,delay:i}))}),[Array.isArray(t)?t.toString():t,c,s,d,a,o,i]);(0,r.useEffect)((function(){p.current||!f.entry||d||a||v({inView:!!u})}));var g=[x,f.inView,f.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}u.displayName="InView",u.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}}},function(e){e.O(0,[988,211,347,8,284,394,53,774,888,179],(function(){return n=8096,e(e.s=n);var n}));var n=e.O();_N_E=n}]);