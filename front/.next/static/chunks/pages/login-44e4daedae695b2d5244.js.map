{"version":3,"file":"static/chunks/pages/login-44e4daedae695b2d5244.js","mappings":"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","sources":["webpack://_N_E/./components/common/Loader/styles.ts","webpack://_N_E/./components/common/Loader/index.tsx","webpack://_N_E/./components/common/MiniTitle/styles.ts","webpack://_N_E/./components/common/MiniTitle/index.tsx","webpack://_N_E/./components/user/LoginForm/styles.ts","webpack://_N_E/./components/user/LoginForm/index.tsx","webpack://_N_E/./pages/login.tsx","webpack://_N_E/?cf1b"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  background-color: ${({ theme }) => theme.color.DARK_GRAY};\n`;\n\nexport const LoaderFull = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: calc(100vh - 40px);\n  color: white;\n`;\n\nexport const LoaderContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  font-size: 15px;\n\n  & div {\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { LoaderFull, LoaderWrapper, LoaderContent } from './styles';\n\ninterface LoaderProps {\n  text: string;\n}\n\nconst Loader = ({ text }: LoaderProps) => {\n  return (\n    <LoaderWrapper>\n      <LoaderFull>\n        <LoaderContent>\n          <div>{text}</div>\n          <LoadingOutlined />\n        </LoaderContent>\n      </LoaderFull>\n    </LoaderWrapper>\n  );\n};\n\nexport default Loader;\n","import styled, { css } from \"styled-components\";\n\nconst subTitle = css`\n  font-weight: bolder;\n  font-size: 18px;\n`;\n\nexport const PageTitleWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 40px;\n`;\n\nexport const TextFront = styled.i`\n  ${subTitle}\n  color: ${({ theme }) => theme.color.MAIN};\n  margin: 0px 3px;\n`;\n\nexport const TextBack = styled.i`\n  ${subTitle}\n  color: ${({ theme }) => theme.color.LIGHT_GRAY};\n`;\n","import React from 'react';\nimport { PageTitleWrapper, TextBack, TextFront } from './styles';\n\ninterface MiniTitleProps {\n  title1: string;\n  title2: string;\n}\n\nconst MiniTitle = ({ title1, title2 }: MiniTitleProps) => {\n  return (\n    <>\n      <PageTitleWrapper>\n        <TextFront>{title1}</TextFront>\n        <TextBack>{title2}</TextBack>\n      </PageTitleWrapper>\n    </>\n  );\n};\n\nexport default MiniTitle;\n","import styled from \"styled-components\";\nimport { Form, Button, Input } from \"antd\";\n\nexport const FormWrapper = styled(Form)`\n  margin: 0px 20px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const LoginInput = styled(Input)`\n  border-radius: 10px;\n  margin-top: 5px;\n  color: white;\n  border-color: ${({ theme }) => theme.color.LIGHT_GRAY};\n  background-color: ${({ theme }) => theme.color.MIDDLE_GRAY};\n`;\n\nexport const InputWrapper = styled.div`\n  margin-top: 30px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const ButtonWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nexport const LoginButton = styled(Button)`\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n  margin-top: 5px;\n`;\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { RootState } from '../../../reducers';\nimport { loginRequest } from '../../../reducers/user/login';\nimport useInput from '../../../hooks/useInput';\nimport MiniTitle from '../../common/MiniTitle';\nimport { FormWrapper, ButtonWrapper, LoginButton, LoginInput, InputWrapper } from './styles';\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n  const { logInLoading, logInError } = useSelector((state: RootState) => state.user);\n  const [email, onChangeEmail] = useInput('');\n  const [password, onChangePassword] = useInput('');\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  const onSubmitForm = useCallback(() => {\n    dispatch(loginRequest({ email, password }));\n  }, [email, password]);\n\n  return (\n    <FormWrapper onFinish={onSubmitForm}>\n      <MiniTitle title1=\"Log\" title2=\"In\" />\n\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-email\">이메일</label>\n          <br />\n          <LoginInput\n            name=\"user-email\"\n            type=\"email\"\n            value={email}\n            onChange={onChangeEmail}\n            required\n            autoComplete=\"off\"\n          />\n        </div>\n      </InputWrapper>\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-password\">비밀번호</label>\n          <br />\n          <LoginInput name=\"user-password\" type=\"password\" value={password} onChange={onChangePassword} required />\n        </div>\n      </InputWrapper>\n\n      <ButtonWrapper>\n        <LoginButton type=\"primary\" htmlType=\"submit\" loading={logInLoading}>\n          로그인\n        </LoginButton>\n      </ButtonWrapper>\n    </FormWrapper>\n  );\n};\n\nexport default LoginForm;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport wrapper from '../store/configureStore';\nimport { loadMeRequest } from '../reducers/user/loadMe';\nimport { RootState } from '../reducers';\nimport { GetServerSideProps } from 'next';\n\nimport LoginForm from '../components/user/LoginForm';\nimport Layout from '../components/common/Layout';\nimport Loader from '../components/common/Loader';\n\nconst Login = () => {\n  const { me, logInFinish, logInLoading, logInError } = useSelector((state: RootState) => state.user);\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  useEffect(() => {\n    if (me && me.id) {\n      Router.replace('/');\n    }\n  }, [me && me.id]);\n\n  useEffect(() => {\n    if (logInFinish) {\n      Router.replace('/');\n    }\n  }, [logInFinish]);\n\n  if (logInLoading) {\n    return <Loader text=\"로그인 중...\" />;\n  }\n\n  if (me && me.id) {\n    return <Loader text=\"로그인 되었습니다. 홈으로 이동 중...\" />;\n  }\n\n  return (\n    <>\n      <Layout>\n        <Head>\n          <title>로그인 | SenStory</title>\n        </Head>\n\n        <LoginForm />\n      </Layout>\n    </>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps = wrapper.getServerSideProps(\n  (store): any =>\n    async ({ req }: any) => {\n      const cookie = req ? req.headers.cookie : '';\n      axios.defaults.headers.Cookie = '';\n      if (req && cookie) {\n        axios.defaults.headers.Cookie = cookie;\n      }\n\n      store.dispatch(loadMeRequest());\n      store.dispatch(END);\n      await store.sagaTask.toPromise();\n    },\n);\n\nexport default Login;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/login\",\n      function () {\n        return require(\"private-next-pages/login.tsx\");\n      }\n    ]);\n  "],"names":["LoaderWrapper","styled","theme","color","DARK_GRAY","LoaderFull","LoaderContent","text","LoadingOutlined","subTitle","css","PageTitleWrapper","TextFront","MAIN","TextBack","LIGHT_GRAY","title1","title2","FormWrapper","Form","LoginInput","Input","MIDDLE_GRAY","InputWrapper","ButtonWrapper","LoginButton","Button","dispatch","useDispatch","useSelector","state","user","logInLoading","logInError","useInput","email","onChangeEmail","password","onChangePassword","useEffect","alert","onSubmitForm","useCallback","loginRequest","onFinish","MiniTitle","htmlFor","name","type","value","onChange","required","autoComplete","htmlType","loading","me","logInFinish","id","Router","Loader","Layout","window","__NEXT_P","push"],"sourceRoot":""}