{"version":3,"file":"static/chunks/pages/login-69d1430e445b6cdf461f.js","mappings":"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","sources":["webpack://_N_E/./components/common/Loader/styles.ts","webpack://_N_E/./components/common/Loader/index.tsx","webpack://_N_E/./components/common/MiniTitle/styles.ts","webpack://_N_E/./components/common/MiniTitle/index.tsx","webpack://_N_E/./components/user/FormButton/styles.ts","webpack://_N_E/./components/user/FormButton/index.tsx","webpack://_N_E/./components/user/LoginForm/styles.ts","webpack://_N_E/./components/user/LoginForm/index.tsx","webpack://_N_E/./pages/login.tsx","webpack://_N_E/?cf1b"],"sourcesContent":["import styled from \"styled-components\";\n\nexport const LoaderWrapper = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 20px;\n  background-color: ${({ theme }) => theme.color.DARK_GRAY};\n`;\n\nexport const LoaderFull = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: calc(100vh - 40px);\n  color: white;\n`;\n\nexport const LoaderContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  font-size: 15px;\n\n  & div {\n    padding-bottom: 15px;\n  }\n`;\n","import React from 'react';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { LoaderFull, LoaderWrapper, LoaderContent } from './styles';\n\ninterface LoaderProps {\n  text: string;\n}\n\nconst Loader = ({ text }: LoaderProps) => {\n  return (\n    <LoaderWrapper>\n      <LoaderFull>\n        <LoaderContent>\n          <div>{text}</div>\n          <LoadingOutlined />\n        </LoaderContent>\n      </LoaderFull>\n    </LoaderWrapper>\n  );\n};\n\nexport default Loader;\n","import styled, { css } from \"styled-components\";\n\nconst subTitle = css`\n  font-weight: bolder;\n  font-size: 18px;\n`;\n\nexport const PageTitleWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 40px;\n`;\n\nexport const TextFront = styled.i`\n  ${subTitle}\n  color: ${({ theme }) => theme.color.MAIN};\n  margin: 0px 3px;\n`;\n\nexport const TextBack = styled.i`\n  ${subTitle}\n  color: ${({ theme }) => theme.color.LIGHT_GRAY};\n`;\n","import React from 'react';\nimport { PageTitleWrapper, TextBack, TextFront } from './styles';\n\ninterface MiniTitleProps {\n  title1: string;\n  title2: string;\n}\n\nconst MiniTitle = ({ title1, title2 }: MiniTitleProps) => {\n  return (\n    <>\n      <PageTitleWrapper>\n        <TextFront>{title1}</TextFront>\n        <TextBack>{title2}</TextBack>\n      </PageTitleWrapper>\n    </>\n  );\n};\n\nexport default MiniTitle;\n","import styled from 'styled-components';\nimport { Form, Button, Input } from 'antd';\n\nexport const ButtonWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nexport const FormBtn = styled(Button)`\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n  margin-top: 5px;\n`;\n","import React from 'react';\nimport { ButtonWrapper, FormBtn } from './styles';\n\ninterface FormBtnProps {\n  loading: boolean;\n  buttonText: string;\n}\n\nconst FormButton = ({ loading, buttonText }: FormBtnProps) => {\n  return (\n    <ButtonWrapper>\n      <FormBtn type=\"primary\" htmlType=\"submit\" loading={loading}>\n        {buttonText}\n      </FormBtn>\n    </ButtonWrapper>\n  );\n};\n\nexport default FormButton;\n","import styled from 'styled-components';\nimport { Form, Button, Input } from 'antd';\n\nexport const FormWrapper = styled(Form)`\n  margin: 0px 20px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const LoginInput = styled(Input)`\n  border-radius: 10px;\n  margin-top: 5px;\n  color: white;\n  border-color: ${({ theme }) => theme.color.LIGHT_GRAY};\n  background-color: ${({ theme }) => theme.color.MIDDLE_GRAY};\n  font-size: 16px;\n`;\n\nexport const InputWrapper = styled.div`\n  margin-top: 30px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const TestButton = styled(Button)`\n  background-color: ${({ theme }) => theme.color.INVALID};\n  color: white;\n  margin-top: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  border: none;\n  border-radius: 10px;\n  height: 40px;\n\n  &:hover {\n    background-color: #779bbf;\n    color: white;\n  }\n`;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { RootState } from '../../../reducers';\nimport { loginRequest } from '../../../reducers/user/login';\nimport MiniTitle from '../../common/MiniTitle';\nimport { FormWrapper, LoginInput, InputWrapper, TestButton } from './styles';\nimport FormButton from '../FormButton';\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n  const { logInLoading, logInError } = useSelector((state: RootState) => state.user);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onChangeEmail = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(e.target.value);\n  }, []);\n\n  const onChangePassword = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(e.target.value);\n  }, []);\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  const onClickTest = useCallback(() => {\n    setEmail('testy@test.com');\n    setPassword('testemailpassword');\n  }, []);\n\n  const onSubmitForm = useCallback(() => {\n    dispatch(loginRequest({ email, password }));\n  }, [email, password]);\n\n  return (\n    <FormWrapper onFinish={onSubmitForm}>\n      <MiniTitle title1=\"Log\" title2=\"In\" />\n\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-email\">이메일</label>\n          <br />\n          <LoginInput\n            name=\"user-email\"\n            type=\"email\"\n            value={email}\n            onChange={onChangeEmail}\n            required\n            autoComplete=\"off\"\n          />\n        </div>\n      </InputWrapper>\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-password\">비밀번호</label>\n          <br />\n          <LoginInput name=\"user-password\" type=\"password\" value={password} onChange={onChangePassword} required />\n        </div>\n      </InputWrapper>\n\n      <FormButton buttonText=\"로그인\" loading={logInLoading} />\n\n      <TestButton onClick={onClickTest} type=\"default\" htmlType=\"submit\">\n        테스트 계정으로 로그인\n      </TestButton>\n    </FormWrapper>\n  );\n};\n\nexport default LoginForm;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport wrapper from '../store/configureStore';\nimport { loadMeRequest } from '../reducers/user/loadMe';\nimport { RootState } from '../reducers';\nimport { GetServerSideProps } from 'next';\n\nimport LoginForm from '../components/user/LoginForm';\nimport Layout from '../components/common/Layout';\nimport Loader from '../components/common/Loader';\n\nconst Login = () => {\n  const { me, logInFinish, logInLoading } = useSelector((state: RootState) => state.user);\n\n  useEffect(() => {\n    if (me && me.id) {\n      Router.replace('/');\n    }\n  }, [me && me.id]);\n\n  useEffect(() => {\n    if (logInFinish) {\n      Router.replace('/');\n    }\n  }, [logInFinish]);\n\n  if (logInLoading) {\n    return <Loader text=\"로그인 중...\" />;\n  }\n\n  if (me && me.id) {\n    return <Loader text=\"로그인 되었습니다. 홈으로 이동 중...\" />;\n  }\n\n  return (\n    <>\n      <Layout>\n        <Head>\n          <title>로그인 | SenStory</title>\n        </Head>\n\n        <LoginForm />\n      </Layout>\n    </>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps = wrapper.getServerSideProps(\n  (store): any =>\n    async ({ req }: any) => {\n      const cookie = req ? req.headers.cookie : '';\n      axios.defaults.headers.Cookie = '';\n      if (req && cookie) {\n        axios.defaults.headers.Cookie = cookie;\n      }\n\n      store.dispatch(loadMeRequest());\n      store.dispatch(END);\n      await store.sagaTask.toPromise();\n    },\n);\n\nexport default Login;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/login\",\n      function () {\n        return require(\"private-next-pages/login.tsx\");\n      }\n    ]);\n  "],"names":["LoaderWrapper","styled","theme","color","DARK_GRAY","LoaderFull","LoaderContent","text","LoadingOutlined","subTitle","css","PageTitleWrapper","TextFront","MAIN","TextBack","LIGHT_GRAY","title1","title2","ButtonWrapper","FormBtn","Button","loading","buttonText","type","htmlType","FormWrapper","Form","LoginInput","Input","MIDDLE_GRAY","InputWrapper","TestButton","INVALID","dispatch","useDispatch","useSelector","state","user","logInLoading","logInError","useState","email","setEmail","password","setPassword","onChangeEmail","useCallback","e","target","value","onChangePassword","useEffect","alert","onClickTest","onSubmitForm","loginRequest","onFinish","MiniTitle","htmlFor","name","onChange","required","autoComplete","FormButton","onClick","me","logInFinish","id","Router","Loader","Layout","window","__NEXT_P","push"],"sourceRoot":""}