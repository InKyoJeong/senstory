{"version":3,"file":"../pages/login.js","mappings":"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","sources":["webpack://scenery-book-front/./components/user/LoginForm/styles.ts","webpack://scenery-book-front/./components/user/LoginForm/index.tsx","webpack://scenery-book-front/./pages/login.tsx","webpack://scenery-book-front/external \"@ant-design/icons\"","webpack://scenery-book-front/external \"antd\"","webpack://scenery-book-front/external \"axios\"","webpack://scenery-book-front/external \"immer\"","webpack://scenery-book-front/external \"next-redux-wrapper\"","webpack://scenery-book-front/external \"next/dist/server/denormalize-page-path.js\"","webpack://scenery-book-front/external \"next/dist/server/image-config.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/head.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/mitt.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router-context.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/to-base-64.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/utils.js\"","webpack://scenery-book-front/external \"next/head\"","webpack://scenery-book-front/external \"next/router\"","webpack://scenery-book-front/external \"react\"","webpack://scenery-book-front/external \"react-redux\"","webpack://scenery-book-front/external \"react/jsx-runtime\"","webpack://scenery-book-front/external \"redux\"","webpack://scenery-book-front/external \"redux-devtools-extension\"","webpack://scenery-book-front/external \"redux-saga\"","webpack://scenery-book-front/external \"redux-saga/effects\"","webpack://scenery-book-front/external \"styled-components\""],"sourcesContent":["import styled from \"styled-components\";\nimport { Form, Button, Input } from \"antd\";\n\nexport const FormWrapper = styled(Form)`\n  margin: 0px 20px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const LoginInput = styled(Input)`\n  border-radius: 10px;\n  margin-top: 5px;\n  color: white;\n  border-color: ${({ theme }) => theme.color.LIGHT_GRAY};\n  background-color: ${({ theme }) => theme.color.MIDDLE_GRAY};\n`;\n\nexport const InputWrapper = styled.div`\n  margin-top: 30px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const ButtonWrapper = styled.div`\n  margin-top: 20px;\n`;\n\nexport const LoginButton = styled(Button)`\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n  margin-top: 5px;\n`;\n","import React, { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { RootState } from '../../../reducers';\nimport { loginRequest } from '../../../reducers/user/login';\nimport useInput from '../../../hooks/useInput';\nimport MiniTitle from '../../common/MiniTitle';\nimport { FormWrapper, ButtonWrapper, LoginButton, LoginInput, InputWrapper } from './styles';\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n  const { logInLoading, logInError } = useSelector((state: RootState) => state.user);\n  const [email, onChangeEmail] = useInput('');\n  const [password, onChangePassword] = useInput('');\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  const onSubmitForm = useCallback(() => {\n    dispatch(loginRequest({ email, password }));\n  }, [email, password]);\n\n  return (\n    <FormWrapper onFinish={onSubmitForm}>\n      <MiniTitle title1=\"Log\" title2=\"In\" />\n\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-email\">이메일</label>\n          <br />\n          <LoginInput\n            name=\"user-email\"\n            type=\"email\"\n            value={email}\n            onChange={onChangeEmail}\n            required\n            autoComplete=\"off\"\n          />\n        </div>\n      </InputWrapper>\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-password\">비밀번호</label>\n          <br />\n          <LoginInput name=\"user-password\" type=\"password\" value={password} onChange={onChangePassword} required />\n        </div>\n      </InputWrapper>\n\n      <ButtonWrapper>\n        <LoginButton type=\"primary\" htmlType=\"submit\" loading={logInLoading}>\n          로그인\n        </LoginButton>\n      </ButtonWrapper>\n    </FormWrapper>\n  );\n};\n\nexport default LoginForm;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport wrapper from '../store/configureStore';\nimport { loadMeRequest } from '../reducers/user/loadMe';\nimport { RootState } from '../reducers';\nimport { GetServerSideProps } from 'next';\n\nimport LoginForm from '../components/user/LoginForm';\nimport Layout from '../components/common/Layout';\nimport Loader from '../components/common/Loader';\n\nconst Login = () => {\n  const { me, logInFinish, logInLoading, logInError } = useSelector((state: RootState) => state.user);\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  useEffect(() => {\n    if (me && me.id) {\n      Router.replace('/');\n    }\n  }, [me && me.id]);\n\n  useEffect(() => {\n    if (logInFinish) {\n      Router.replace('/');\n    }\n  }, [logInFinish]);\n\n  if (logInLoading) {\n    return <Loader text=\"로그인 중...\" />;\n  }\n\n  if (me && me.id) {\n    return <Loader text=\"로그인 되었습니다. 홈으로 이동 중...\" />;\n  }\n\n  return (\n    <>\n      <Layout>\n        <Head>\n          <title>로그인 | SenStory</title>\n        </Head>\n\n        <LoginForm />\n      </Layout>\n    </>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps = wrapper.getServerSideProps(\n  (store): any =>\n    async ({ req }: any) => {\n      const cookie = req ? req.headers.cookie : '';\n      axios.defaults.headers.Cookie = '';\n      if (req && cookie) {\n        axios.defaults.headers.Cookie = cookie;\n      }\n\n      store.dispatch(loadMeRequest());\n      store.dispatch(END);\n      await store.sagaTask.toPromise();\n    },\n);\n\nexport default Login;\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");"],"names":["styled","Form","Button","Input","FormWrapper","LoginInput","theme","color","LIGHT_GRAY","MIDDLE_GRAY","InputWrapper","div","ButtonWrapper","LoginButton","React","useCallback","useEffect","useDispatch","useSelector","loginRequest","useInput","MiniTitle","LoginForm","dispatch","logInLoading","logInError","state","user","email","onChangeEmail","password","onChangePassword","alert","onSubmitForm","Head","Router","axios","END","wrapper","loadMeRequest","Layout","Loader","Login","me","logInFinish","id","replace","getServerSideProps","store","req","cookie","headers","defaults","Cookie","sagaTask","toPromise"],"sourceRoot":""}