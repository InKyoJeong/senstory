{"version":3,"file":"../pages/login.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEO,MAAMI,WAAW,GAAGJ,oCAAM,CAACC,mBAAD,CAAT;AAAA;AAAA;AAAA,6CAAjB;AAQA,MAAMI,UAAU,GAAGL,oCAAM,CAACG,oBAAD,CAAT;AAAA;AAAA;AAAA,8GAIL,CAAC;AAAEG,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAN,CAAYC,UAJtB,EAKD,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAN,CAAYE,WAL1B,CAAhB;AASA,MAAMC,YAAY,GAAGV,mDAAH;AAAA;AAAA;AAAA,6CAAlB;AAQA,MAAMY,UAAU,GAAGZ,oCAAM,CAACE,qBAAD,CAAT;AAAA;AAAA;AAAA,sNACD,CAAC;AAAEI,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,KAAN,CAAYM,OAD1B,CAAhB;;;;;;AC5BP;AACA;AAGA;AACA;AACA;AACA;;;;AAEA,MAAMU,SAAS,GAAG,MAAM;AACtB,QAAMC,QAAQ,GAAGN,qCAAW,EAA5B;AACA,QAAM;AAAEO,IAAAA,YAAF;AAAgBC,IAAAA;AAAhB,MAA+BP,qCAAW,CAAEQ,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAAhD;AACA,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBb,4BAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACc,QAAD;AAAA,OAAWC;AAAX,MAA0Bf,4BAAQ,CAAC,EAAD,CAAxC;AAEA,QAAMgB,aAAa,GAAGlB,+BAAW,CAAEmB,CAAD,IAA4C;AAC5EJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACD,GAFgC,EAE9B,EAF8B,CAAjC;AAIA,QAAMC,gBAAgB,GAAGtB,+BAAW,CAAEmB,CAAD,IAA4C;AAC/EJ,IAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACD,GAFmC,EAEjC,EAFiC,CAApC;AAIApB,EAAAA,6BAAS,CAAC,MAAM;AACd,QAAIU,UAAJ,EAAgB;AACdY,MAAAA,KAAK,CAACZ,UAAD,CAAL;AACD;AACF,GAJQ,EAIN,CAACA,UAAD,CAJM,CAAT;AAMA,QAAMa,WAAW,GAAGxB,+BAAW,CAAC,MAAM;AACpCe,IAAAA,QAAQ,CAAC,gBAAD,CAAR;AACAE,IAAAA,WAAW,CAAC,mBAAD,CAAX;AACD,GAH8B,EAG5B,EAH4B,CAA/B;AAKA,QAAMQ,YAAY,GAAGzB,+BAAW,CAAC,MAAM;AACrCS,IAAAA,QAAQ,CAACJ,8BAAY,CAAC;AAAES,MAAAA,KAAF;AAASE,MAAAA;AAAT,KAAD,CAAb,CAAR;AACD,GAF+B,EAE7B,CAACF,KAAD,EAAQE,QAAR,CAF6B,CAAhC;AAIA,sBACE,sBAAC,WAAD;AAAa,YAAQ,EAAES,YAAvB;AAAA,4BACE,iBAAC,wBAAD;AAAW,YAAM,EAAC,KAAlB;AAAwB,YAAM,EAAC;AAA/B,MADF,eAGE,iBAAC,YAAD;AAAA,6BACE;AAAA,gCACE;AAAO,iBAAO,EAAC,YAAf;AAAA;AAAA,UADF,eAEE,0BAFF,eAGE,iBAAC,UAAD;AACE,cAAI,EAAC,YADP;AAEE,cAAI,EAAC,OAFP;AAGE,eAAK,EAAEX,KAHT;AAIE,kBAAQ,EAAEI,aAJZ;AAKE,kBAAQ,MALV;AAME,sBAAY,EAAC;AANf,UAHF;AAAA;AADF,MAHF,eAiBE,iBAAC,YAAD;AAAA,6BACE;AAAA,gCACE;AAAO,iBAAO,EAAC,eAAf;AAAA;AAAA,UADF,eAEE,0BAFF,eAGE,iBAAC,UAAD;AAAY,cAAI,EAAC,eAAjB;AAAiC,cAAI,EAAC,UAAtC;AAAiD,eAAK,EAAEF,QAAxD;AAAkE,kBAAQ,EAAEM,gBAA5E;AAA8F,kBAAQ;AAAtG,UAHF;AAAA;AADF,MAjBF,eAyBE,iBAAC,yBAAD;AAAY,gBAAU,EAAC,oBAAvB;AAA6B,aAAO,EAAEZ;AAAtC,MAzBF,eA2BE,iBAAC,UAAD;AAAY,aAAO,EAAEc,WAArB;AAAkC,UAAI,EAAC,SAAvC;AAAiD,cAAQ,EAAC,QAA1D;AAAA;AAAA,MA3BF;AAAA,IADF;AAiCD,CA9DD;;AAgEA,qDAAehB,SAAf;;;;;;ACzEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;;;;;AAEA,MAAM0B,KAAK,GAAG,MAAM;AAClB,QAAM;AAAEC,IAAAA,EAAF;AAAMC,IAAAA,WAAN;AAAmB1B,IAAAA;AAAnB,MAAoCN,qCAAW,CAAEQ,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAArD;AAEAZ,EAAAA,6BAAS,CAAC,MAAM;AACd,QAAIkC,EAAE,IAAIA,EAAE,CAACE,EAAb,EAAiB;AACfV,MAAAA,wBAAA,CAAe,GAAf;AACD;AACF,GAJQ,EAIN,CAACQ,EAAE,IAAIA,EAAE,CAACE,EAAV,CAJM,CAAT;AAMApC,EAAAA,6BAAS,CAAC,MAAM;AACd,QAAImC,WAAJ,EAAiB;AACfT,MAAAA,wBAAA,CAAe,GAAf;AACD;AACF,GAJQ,EAIN,CAACS,WAAD,CAJM,CAAT;;AAMA,MAAI1B,YAAJ,EAAkB;AAChB,wBAAO,iBAAC,qBAAD;AAAQ,UAAI,EAAC;AAAb,MAAP;AACD;;AAED,MAAIyB,EAAE,IAAIA,EAAE,CAACE,EAAb,EAAiB;AACf,wBAAO,iBAAC,qBAAD;AAAQ,UAAI,EAAC;AAAb,MAAP;AACD;;AAED,sBACE;AAAA,2BACE,sBAAC,qBAAD;AAAA,8BACE,iBAAC,gBAAD;AAAA,+BACE;AAAA;AAAA;AADF,QADF,eAKE,iBAAC,cAAD,KALF;AAAA;AADF,IADF;AAWD,CAlCD;;AAoCO,MAAME,kBAAsC,GAAGT,mEAAA,CACnDU,KAAD,IACE,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAwB;AACtB,QAAMC,MAAM,GAAGD,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAYD,MAAf,GAAwB,EAA1C;AACAd,EAAAA,kDAAA,GAAgC,EAAhC;;AACA,MAAIa,GAAG,IAAIC,MAAX,EAAmB;AACjBd,IAAAA,kDAAA,GAAgCc,MAAhC;AACD;;AAEDF,EAAAA,KAAK,CAAC/B,QAAN,CAAesB,gCAAa,EAA5B;AACAS,EAAAA,KAAK,CAAC/B,QAAN,CAAeoB,wBAAf;AACA,QAAMW,KAAK,CAACM,QAAN,CAAeC,SAAf,EAAN;AACD,CAZiD,CAA/C;AAeP,kDAAeb,KAAf;;;;;;;AClEA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://scenery-book-front/./components/user/LoginForm/styles.ts","webpack://scenery-book-front/./components/user/LoginForm/index.tsx","webpack://scenery-book-front/./pages/login.tsx","webpack://scenery-book-front/external \"@ant-design/icons\"","webpack://scenery-book-front/external \"antd\"","webpack://scenery-book-front/external \"axios\"","webpack://scenery-book-front/external \"immer\"","webpack://scenery-book-front/external \"next-redux-wrapper\"","webpack://scenery-book-front/external \"next/dist/server/denormalize-page-path.js\"","webpack://scenery-book-front/external \"next/dist/server/image-config.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/head.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/mitt.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router-context.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/to-base-64.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/utils.js\"","webpack://scenery-book-front/external \"next/head\"","webpack://scenery-book-front/external \"next/router\"","webpack://scenery-book-front/external \"react\"","webpack://scenery-book-front/external \"react-redux\"","webpack://scenery-book-front/external \"react/jsx-runtime\"","webpack://scenery-book-front/external \"redux\"","webpack://scenery-book-front/external \"redux-devtools-extension\"","webpack://scenery-book-front/external \"redux-saga\"","webpack://scenery-book-front/external \"redux-saga/effects\"","webpack://scenery-book-front/external \"styled-components\""],"sourcesContent":["import styled from 'styled-components';\nimport { Form, Button, Input } from 'antd';\n\nexport const FormWrapper = styled(Form)`\n  margin: 0px 20px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const LoginInput = styled(Input)`\n  border-radius: 10px;\n  margin-top: 5px;\n  color: white;\n  border-color: ${({ theme }) => theme.color.LIGHT_GRAY};\n  background-color: ${({ theme }) => theme.color.MIDDLE_GRAY};\n  font-size: 16px;\n`;\n\nexport const InputWrapper = styled.div`\n  margin-top: 30px;\n\n  & label {\n    color: white;\n  }\n`;\n\nexport const TestButton = styled(Button)`\n  background-color: ${({ theme }) => theme.color.INVALID};\n  color: white;\n  margin-top: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  border: none;\n  border-radius: 10px;\n  height: 40px;\n\n  &:hover {\n    background-color: #779bbf;\n    color: white;\n  }\n`;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { RootState } from '../../../reducers';\nimport { loginRequest } from '../../../reducers/user/login';\nimport MiniTitle from '../../common/MiniTitle';\nimport { FormWrapper, LoginInput, InputWrapper, TestButton } from './styles';\nimport FormButton from '../FormButton';\n\nconst LoginForm = () => {\n  const dispatch = useDispatch();\n  const { logInLoading, logInError } = useSelector((state: RootState) => state.user);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const onChangeEmail = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(e.target.value);\n  }, []);\n\n  const onChangePassword = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(e.target.value);\n  }, []);\n\n  useEffect(() => {\n    if (logInError) {\n      alert(logInError);\n    }\n  }, [logInError]);\n\n  const onClickTest = useCallback(() => {\n    setEmail('testy@test.com');\n    setPassword('testemailpassword');\n  }, []);\n\n  const onSubmitForm = useCallback(() => {\n    dispatch(loginRequest({ email, password }));\n  }, [email, password]);\n\n  return (\n    <FormWrapper onFinish={onSubmitForm}>\n      <MiniTitle title1=\"Log\" title2=\"In\" />\n\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-email\">이메일</label>\n          <br />\n          <LoginInput\n            name=\"user-email\"\n            type=\"email\"\n            value={email}\n            onChange={onChangeEmail}\n            required\n            autoComplete=\"off\"\n          />\n        </div>\n      </InputWrapper>\n      <InputWrapper>\n        <div>\n          <label htmlFor=\"user-password\">비밀번호</label>\n          <br />\n          <LoginInput name=\"user-password\" type=\"password\" value={password} onChange={onChangePassword} required />\n        </div>\n      </InputWrapper>\n\n      <FormButton buttonText=\"로그인\" loading={logInLoading} />\n\n      <TestButton onClick={onClickTest} type=\"default\" htmlType=\"submit\">\n        테스트 계정으로 로그인\n      </TestButton>\n    </FormWrapper>\n  );\n};\n\nexport default LoginForm;\n","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport Head from 'next/head';\nimport Router from 'next/router';\nimport axios from 'axios';\nimport { END } from 'redux-saga';\nimport wrapper from '../store/configureStore';\nimport { loadMeRequest } from '../reducers/user/loadMe';\nimport { RootState } from '../reducers';\nimport { GetServerSideProps } from 'next';\n\nimport LoginForm from '../components/user/LoginForm';\nimport Layout from '../components/common/Layout';\nimport Loader from '../components/common/Loader';\n\nconst Login = () => {\n  const { me, logInFinish, logInLoading } = useSelector((state: RootState) => state.user);\n\n  useEffect(() => {\n    if (me && me.id) {\n      Router.replace('/');\n    }\n  }, [me && me.id]);\n\n  useEffect(() => {\n    if (logInFinish) {\n      Router.replace('/');\n    }\n  }, [logInFinish]);\n\n  if (logInLoading) {\n    return <Loader text=\"로그인 중...\" />;\n  }\n\n  if (me && me.id) {\n    return <Loader text=\"로그인 되었습니다. 홈으로 이동 중...\" />;\n  }\n\n  return (\n    <>\n      <Layout>\n        <Head>\n          <title>로그인 | SenStory</title>\n        </Head>\n\n        <LoginForm />\n      </Layout>\n    </>\n  );\n};\n\nexport const getServerSideProps: GetServerSideProps = wrapper.getServerSideProps(\n  (store): any =>\n    async ({ req }: any) => {\n      const cookie = req ? req.headers.cookie : '';\n      axios.defaults.headers.Cookie = '';\n      if (req && cookie) {\n        axios.defaults.headers.Cookie = cookie;\n      }\n\n      store.dispatch(loadMeRequest());\n      store.dispatch(END);\n      await store.sagaTask.toPromise();\n    },\n);\n\nexport default Login;\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-redux\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");"],"names":["styled","Form","Button","Input","FormWrapper","LoginInput","theme","color","LIGHT_GRAY","MIDDLE_GRAY","InputWrapper","div","TestButton","INVALID","React","useCallback","useEffect","useState","useDispatch","useSelector","loginRequest","MiniTitle","FormButton","LoginForm","dispatch","logInLoading","logInError","state","user","email","setEmail","password","setPassword","onChangeEmail","e","target","value","onChangePassword","alert","onClickTest","onSubmitForm","Head","Router","axios","END","wrapper","loadMeRequest","Layout","Loader","Login","me","logInFinish","id","replace","getServerSideProps","store","req","cookie","headers","defaults","Cookie","sagaTask","toPromise"],"sourceRoot":""}