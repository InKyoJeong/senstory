{"version":3,"file":"../pages/post/[id].js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;;;;AAEA,MAAMc,IAAI,GAAG,MAAM;AACjB,QAAMC,MAAM,GAAGZ,sDAAS,EAAxB;AACA,QAAM;AAAEa,IAAAA;AAAF,MAASD,MAAM,CAACE,KAAtB;AACA,QAAM;AAAEC,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAA8Bf,wDAAW,CAAEgB,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAA/C;AAEApB,EAAAA,gDAAS,CAAC,MAAM;AACd,QAAIkB,WAAJ,EAAiB;AACfG,MAAAA,KAAK,CAACH,WAAD,CAAL;AACD;AACF,GAJQ,EAIN,CAACA,WAAD,CAJM,CAAT;;AAMA,MAAI,CAACD,UAAL,EAAiB;AACf,wBAAO,oDAAC,4EAAD;AAAa,kBAAY,EAAC;AAA1B,MAAP;AACD;;AAED,sBACE,yDAAC,uEAAD;AAAA,4BACE,yDAAC,kDAAD;AAAA,8BACE;AAAA,mBAAQA,UAAR,aAAQA,UAAR,uBAAQA,UAAU,CAAEK,IAAZ,CAAiBC,QAAzB;AAAA,QADF,eAEE;AAAM,YAAI,EAAC,aAAX;AAAyB,eAAO,EAAEN,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAEO;AAA9C,QAFF,eAGE;AAAM,gBAAQ,EAAC,UAAf;AAA0B,eAAO,EAAG,GAAEP,UAAH,aAAGA,UAAH,uBAAGA,UAAU,CAAEK,IAAZ,CAAiBC,QAAS;AAAhE,QAHF,eAIE;AAAM,gBAAQ,EAAC,gBAAf;AAAgC,eAAO,EAAEN,UAAF,aAAEA,UAAF,uBAAEA,UAAU,CAAEO;AAArD,QAJF,eAKE;AACE,gBAAQ,EAAC,UADX;AAEE,eAAO,EAAEP,UAAU,SAAV,IAAAA,UAAU,WAAV,IAAAA,UAAU,CAAEQ,MAAZ,CAAmB,CAAnB,IAAwBR,UAAxB,aAAwBA,UAAxB,uBAAwBA,UAAU,CAAEQ,MAAZ,CAAmB,CAAnB,EAAsBC,GAA9C,GAAqD,GAAEd,8DAAS;AAF3E,QALF,eASE;AAAM,gBAAQ,EAAC,QAAf;AAAwB,eAAO,EAAG,GAAEA,8DAAS,SAAQG,EAAG;AAAxD,QATF;AAAA,MADF,eAYE,oDAAC,uEAAD;AAAU,UAAI,EAAEE;AAAhB,MAZF;AAAA,IADF;AAgBD,CA/BD;;AAiCO,MAAMU,kBAAkB,GAAGtB,yGAAA,CAA4BuB,KAAD,IAAgB,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAP,KAAgC;AAC3G,QAAMC,MAAM,GAAGF,GAAG,GAAGA,GAAG,CAACG,OAAJ,CAAYD,MAAf,GAAwB,EAA1C;AACA3B,EAAAA,sEAAA,GAAgC,EAAhC;;AACA,MAAIyB,GAAG,IAAIE,MAAX,EAAmB;AACjB3B,IAAAA,sEAAA,GAAgC2B,MAAhC;AACD;;AAEDH,EAAAA,KAAK,CAACO,QAAN,CAAezB,+EAAa,EAA5B;AACAkB,EAAAA,KAAK,CAACO,QAAN,CAAe1B,+FAAqB,CAACqB,MAAM,CAACf,EAAR,CAApC;AACAa,EAAAA,KAAK,CAACO,QAAN,CAAe7B,2CAAf;AACA,QAAMsB,KAAK,CAACQ,QAAN,CAAeC,SAAf,EAAN;AACD,CAXiC,CAA3B;AAaP,iEAAexB,IAAf;;;;;;;AC9DA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://scenery-book-front/./pages/post/[id].tsx","webpack://scenery-book-front/external \"@ant-design/icons\"","webpack://scenery-book-front/external \"antd\"","webpack://scenery-book-front/external \"axios\"","webpack://scenery-book-front/external \"dayjs\"","webpack://scenery-book-front/external \"dayjs/locale/ko\"","webpack://scenery-book-front/external \"dayjs/plugin/relativeTime\"","webpack://scenery-book-front/external \"immer\"","webpack://scenery-book-front/external \"next-redux-wrapper\"","webpack://scenery-book-front/external \"next/dist/server/denormalize-page-path.js\"","webpack://scenery-book-front/external \"next/dist/server/image-config.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/head.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/mitt.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router-context.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/to-base-64.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/utils.js\"","webpack://scenery-book-front/external \"next/head\"","webpack://scenery-book-front/external \"next/router\"","webpack://scenery-book-front/external \"react\"","webpack://scenery-book-front/external \"react-copy-to-clipboard\"","webpack://scenery-book-front/external \"react-redux\"","webpack://scenery-book-front/external \"react-slick\"","webpack://scenery-book-front/external \"react/jsx-runtime\"","webpack://scenery-book-front/external \"redux\"","webpack://scenery-book-front/external \"redux-devtools-extension\"","webpack://scenery-book-front/external \"redux-saga\"","webpack://scenery-book-front/external \"redux-saga/effects\"","webpack://scenery-book-front/external \"styled-components\""],"sourcesContent":["import React, { useEffect } from 'react';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport { useSelector } from 'react-redux';\nimport axios from 'axios';\nimport wrapper from '../../store/configureStore';\nimport { END } from 'redux-saga';\n\nimport Layout from '../../components/common/Layout';\nimport PostCard from '../../components/post/PostCard';\nimport { loadSinglePostRequest } from '../../reducers/post/loadSinglePost';\nimport { loadMeRequest } from '../../reducers/user/loadMe';\nimport { RootState } from '../../reducers';\nimport CustomError from '../../components/common/CustomError';\nimport { frontUrl } from '../../config/config';\n\nconst Post = () => {\n  const router = useRouter();\n  const { id } = router.query;\n  const { singlePost, repostError } = useSelector((state: RootState) => state.post);\n\n  useEffect(() => {\n    if (repostError) {\n      alert(repostError);\n    }\n  }, [repostError]);\n\n  if (!singlePost) {\n    return <CustomError errorContent=\"존재하지 않는 게시글 입니다.\" />;\n  }\n\n  return (\n    <Layout>\n      <Head>\n        <title>{singlePost?.User.nickname}님의 게시글 | SenStory</title>\n        <meta name=\"description\" content={singlePost?.content} />\n        <meta property=\"og:title\" content={`${singlePost?.User.nickname}님의 게시글`} />\n        <meta property=\"og:description\" content={singlePost?.content} />\n        <meta\n          property=\"og:image\"\n          content={singlePost?.Images[0] ? singlePost?.Images[0].src : `${frontUrl}/favicon.ico`}\n        />\n        <meta property=\"og:url\" content={`${frontUrl}/post/${id}`} />\n      </Head>\n      <PostCard post={singlePost} />\n    </Layout>\n  );\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps((store): any => async ({ req, params }: any) => {\n  const cookie = req ? req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  store.dispatch(loadMeRequest());\n  store.dispatch(loadSinglePostRequest(params.id));\n  store.dispatch(END);\n  await store.sagaTask.toPromise();\n});\n\nexport default Post;\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"dayjs/locale/ko\");","module.exports = require(\"dayjs/plugin/relativeTime\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/head\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-copy-to-clipboard\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-slick\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");"],"names":["React","useEffect","Head","useRouter","useSelector","axios","wrapper","END","Layout","PostCard","loadSinglePostRequest","loadMeRequest","CustomError","frontUrl","Post","router","id","query","singlePost","repostError","state","post","alert","User","nickname","content","Images","src","getServerSideProps","store","req","params","cookie","headers","defaults","Cookie","dispatch","sagaTask","toPromise"],"sourceRoot":""}