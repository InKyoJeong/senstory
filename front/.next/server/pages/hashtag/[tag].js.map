{"version":3,"file":"../pages/hashtag/[tag].js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;AAGA,MAAMc,OAAO,GAAG,MAAM;AACpB,QAAMC,QAAQ,GAAGb,wDAAW,EAA5B;AACA,QAAMc,MAAM,GAAGX,sDAAS,EAAxB;AACA,QAAM;AAAEY,IAAAA;AAAF,MAAUD,MAAM,CAACE,KAAvB;AACA,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,YAAb;AAA2BC,IAAAA;AAA3B,MAAuDlB,wDAAW,CAAEmB,KAAD,IAAsBA,KAAK,CAACC,IAA7B,CAAxE;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBnB,sEAAS,EAA/B;AAEAL,EAAAA,gDAAS,CAAC,MAAM;AACd,QAAIwB,MAAM,IAAIL,YAAV,IAA0B,CAACC,uBAA/B,EAAwD;AAAA;;AACtD,YAAMK,MAAM,iBAAGP,SAAS,CAACA,SAAS,CAACQ,MAAV,GAAmB,CAApB,CAAZ,+CAAG,WAAiCC,EAAhD;AAEAb,MAAAA,QAAQ,CAACJ,mGAAuB,CAACM,GAAD,EAAgBS,MAAhB,CAAxB,CAAR;AACD;AACF,GANQ,EAMN,CAACD,MAAD,EAASL,YAAT,EAAuBC,uBAAvB,EAAgDF,SAAhD,EAA2DF,GAA3D,CANM,CAAT;AAQA,sBACE,mDAAC,uEAAD;AAAA,cACGE,SAAS,CAACU,GAAV,CAAeC,CAAD,iBACb,mDAAC,uEAAD;AAAqB,UAAI,EAAEA,CAA3B;AAA8B,SAAG,EAAEV,YAAY,IAAI,CAACC,uBAAjB,GAA2CG,GAA3C,GAAiDO;AAApF,OAAeD,CAAC,CAACF,EAAjB,CADD;AADH,IADF;AAOD,CAtBD;;AAwBO,MAAMI,kBAAkB,GAAGxB,yGAAA,CAA4ByB,KAAD,IAAgB,OAAO;AAAEC,EAAAA,GAAF;AAAOC,EAAAA;AAAP,CAAP,KAAgC;AAC3G,QAAMC,MAAM,GAAGF,GAAG,GAAGA,GAAG,CAACG,OAAJ,CAAYD,MAAf,GAAwB,EAA1C;AACA7B,EAAAA,sEAAA,GAAgC,EAAhC;;AACA,MAAI2B,GAAG,IAAIE,MAAX,EAAmB;AACjB7B,IAAAA,sEAAA,GAAgC6B,MAAhC;AACD;;AAEDH,EAAAA,KAAK,CAAClB,QAAN,CAAeJ,mGAAuB,CAACwB,MAAM,CAAClB,GAAR,CAAtC;AACAgB,EAAAA,KAAK,CAAClB,QAAN,CAAeH,+EAAa,EAA5B;AACAqB,EAAAA,KAAK,CAAClB,QAAN,CAAeF,uFAAiB,EAAhC;AACAoB,EAAAA,KAAK,CAAClB,QAAN,CAAeX,2CAAf;AACA,QAAM6B,KAAK,CAACO,QAAN,CAAeC,SAAf,EAAN;AACD,CAZiC,CAA3B;AAcP,iEAAe3B,OAAf;;;;;;;ACrDA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA;;;;;;;ACAA","sources":["webpack://scenery-book-front/./pages/hashtag/[tag].tsx","webpack://scenery-book-front/external \"@ant-design/icons\"","webpack://scenery-book-front/external \"antd\"","webpack://scenery-book-front/external \"axios\"","webpack://scenery-book-front/external \"dayjs\"","webpack://scenery-book-front/external \"dayjs/locale/ko\"","webpack://scenery-book-front/external \"dayjs/plugin/relativeTime\"","webpack://scenery-book-front/external \"immer\"","webpack://scenery-book-front/external \"next-redux-wrapper\"","webpack://scenery-book-front/external \"next/dist/server/denormalize-page-path.js\"","webpack://scenery-book-front/external \"next/dist/server/image-config.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/head.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/i18n/normalize-locale-path.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/mitt.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router-context.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/is-dynamic.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/parse-relative-url.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/querystring.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-matcher.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/router/utils/route-regex.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/to-base-64.js\"","webpack://scenery-book-front/external \"next/dist/shared/lib/utils.js\"","webpack://scenery-book-front/external \"next/router\"","webpack://scenery-book-front/external \"react\"","webpack://scenery-book-front/external \"react-copy-to-clipboard\"","webpack://scenery-book-front/external \"react-intersection-observer\"","webpack://scenery-book-front/external \"react-redux\"","webpack://scenery-book-front/external \"react-slick\"","webpack://scenery-book-front/external \"react/jsx-runtime\"","webpack://scenery-book-front/external \"redux\"","webpack://scenery-book-front/external \"redux-devtools-extension\"","webpack://scenery-book-front/external \"redux-saga\"","webpack://scenery-book-front/external \"redux-saga/effects\"","webpack://scenery-book-front/external \"styled-components\""],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { END } from 'redux-saga';\nimport { useRouter } from 'next/router';\nimport { useInView } from 'react-intersection-observer';\nimport axios from 'axios';\nimport wrapper from '../../store/configureStore';\n\nimport PostCard from '../../components/post/PostCard';\nimport Layout from '../../components/common/Layout';\nimport { loadHashtagPostsRequest } from '../../reducers/post/loadHashtagPosts';\nimport { loadMeRequest } from '../../reducers/user/loadMe';\nimport { randomUserRequest } from '../../reducers/user/randomUser';\nimport { RootState } from '../../reducers';\n\nconst Hashtag = () => {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const { tag } = router.query;\n  const { mainPosts, hasMorePosts, loadHashtagPostsLoading } = useSelector((state: RootState) => state.post);\n  const [ref, inView] = useInView();\n\n  useEffect(() => {\n    if (inView && hasMorePosts && !loadHashtagPostsLoading) {\n      const lastId = mainPosts[mainPosts.length - 1]?.id;\n\n      dispatch(loadHashtagPostsRequest(tag as string, lastId));\n    }\n  }, [inView, hasMorePosts, loadHashtagPostsLoading, mainPosts, tag]);\n\n  return (\n    <Layout>\n      {mainPosts.map((c) => (\n        <PostCard key={c.id} post={c} ref={hasMorePosts && !loadHashtagPostsLoading ? ref : undefined} />\n      ))}\n    </Layout>\n  );\n};\n\nexport const getServerSideProps = wrapper.getServerSideProps((store): any => async ({ req, params }: any) => {\n  const cookie = req ? req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n\n  store.dispatch(loadHashtagPostsRequest(params.tag));\n  store.dispatch(loadMeRequest());\n  store.dispatch(randomUserRequest());\n  store.dispatch(END);\n  await store.sagaTask.toPromise();\n});\n\nexport default Hashtag;\n","module.exports = require(\"@ant-design/icons\");","module.exports = require(\"antd\");","module.exports = require(\"axios\");","module.exports = require(\"dayjs\");","module.exports = require(\"dayjs/locale/ko\");","module.exports = require(\"dayjs/plugin/relativeTime\");","module.exports = require(\"immer\");","module.exports = require(\"next-redux-wrapper\");","module.exports = require(\"next/dist/server/denormalize-page-path.js\");","module.exports = require(\"next/dist/server/image-config.js\");","module.exports = require(\"next/dist/shared/lib/head.js\");","module.exports = require(\"next/dist/shared/lib/i18n/normalize-locale-path.js\");","module.exports = require(\"next/dist/shared/lib/mitt.js\");","module.exports = require(\"next/dist/shared/lib/router-context.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/get-asset-path-from-route.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/is-dynamic.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/parse-relative-url.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/querystring.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-matcher.js\");","module.exports = require(\"next/dist/shared/lib/router/utils/route-regex.js\");","module.exports = require(\"next/dist/shared/lib/to-base-64.js\");","module.exports = require(\"next/dist/shared/lib/utils.js\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-copy-to-clipboard\");","module.exports = require(\"react-intersection-observer\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-slick\");","module.exports = require(\"react/jsx-runtime\");","module.exports = require(\"redux\");","module.exports = require(\"redux-devtools-extension\");","module.exports = require(\"redux-saga\");","module.exports = require(\"redux-saga/effects\");","module.exports = require(\"styled-components\");"],"names":["React","useEffect","useDispatch","useSelector","END","useRouter","useInView","axios","wrapper","PostCard","Layout","loadHashtagPostsRequest","loadMeRequest","randomUserRequest","Hashtag","dispatch","router","tag","query","mainPosts","hasMorePosts","loadHashtagPostsLoading","state","post","ref","inView","lastId","length","id","map","c","undefined","getServerSideProps","store","req","params","cookie","headers","defaults","Cookie","sagaTask","toPromise"],"sourceRoot":""}